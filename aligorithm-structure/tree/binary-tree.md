# 二叉树树

## 二叉树内容
- 二叉树的退化
- 二叉树的遍历：深度优先遍历（前序遍历，中序遍历，后序遍历），广度优先遍历（层序遍历）


## 二叉树常见术语（Binary Tree）
- 「根节点 root node」：位于二叉树顶层的节点，没有父节点。
- 「叶节点 leaf node」：没有子节点的节点，其两个指针均指向 None 。
- 「边 edge」：连接两个节点的线段，即节点引用（指针）。
- 节点所在的「层 level」：从顶至底递增，根节点所在层为 1 。
- 节点的「度 degree」：节点的子节点的数量。在二叉树中，度的取值范围是 0、1、2 。
- 二叉树的「高度 height」：从根节点到最远叶节点所经过的边的数量。
- 节点的「深度 depth」：从根节点到该节点所经过的边的数量。
- 节点的「高度 height」：从最远叶节点到该节点所经过的边的数量。


## 二叉树的遍历
深度优先遍历(depth-first traversal):
  - 前序遍历(Degree-Left-Right)
  - 中序遍历(Left-Degree-Right)
  - 后序遍历(Left-Right-Degree)

广度优先搜索(breadth first search)：
广度优先遍历(breadth first travel)：


## 常见二叉树类型
- 完美二叉树(perfect binary tree)
- 完全二叉树(complete binary tree)
- 完满二叉树(full binary tree) : 除了叶节点之外，其余所有节点都有两个子节点。
- 平衡二叉树(balanced binary tree):  任意节点的左子树和右子树的高度之差的绝对值不超过 1 。
- 二叉搜索树
- AVL 树
- 红黑树： 红黑树在许多应用中比 AVL 树更受欢迎。这是因为红黑树的平衡条件相对宽松，在红黑树中插入与删
除节点所需的旋转操作相对较少，其节点增删操作的平均效率更高


## 完美二叉树   
1. 完美二叉树常被称为「满二叉树」。 
2. 「完美二叉树 perfect binary tree」除了最底层外，其余所有层的节点都被完全填满。在完美二叉树中，叶节   
点的度为 0 ，其余所有节点的度都为 2 ；若树高度为 ℎ ，则节点总数为 2**(ℎ+1) − 1 ，呈现标准的指数级关系，   
反映了自然界中常见的细胞分裂现象。
3. 相邻层的节点数之间构成等比数列

| 层数      |   层节点数    |  通项式     |
|     ---   |    ---    |      ---    |   
|     1      |    1     |     $ 2^0 $ |
|     2      |    2     |     $ 2^1 $ |
|     3      |    4     |     $ 2^2 $ |
|     4       |    8      |     $ 2^3 $ |
|     n       |    -      |     $ 2^{n-1} $ |


第 n 层节点总数： 1, 3, 7, 15, 31, ..., $ 2^n - 1 $


|              特性                        |             完美二叉树          |
| ---------------------------------------- | ------------------------------ |
| 第 𝑖 层的节点数量                          |  $ 2^{i-1}  $                  |
| 高度 ℎ 树的叶节点数量                     |  $ 2^h $                      |
| 高度 ℎ 树的节点总数                       |  $ 2^{h+1} - 1 $              |
| 节点总数 𝑛 树的高度                       |  $ \log_{2} (𝑛 + 1) − 1 $      |


## 完全二叉树
1. 只有最底层的节点未被填满，且最底层节点尽量靠左填充，其余层的节点全部填满
2. 完全二叉树适合使用数组表示（符合层序遍历的顺序）

数组表示下的完全二叉树: 需要通过层序遍历访问树
- 父节点索引通项公式 `Math.floor((i - 1) / 2)`
- 左子节点索引通项公式 `2*i + 1`
- 右子节点索引通项公式 `2*i + 2`
- 最后一个树节点等于最后一个叶节点的父节点


## 二叉搜索树
「二叉搜索树 binary search tree」满足以下条件。
1. 对于根节点，左子树中所有节点的值 < 根节点的值 < 右子树中所有节点的值。
2. 任意节点的左、右子树也是二叉搜索树，即同样满足条件 1. 。
3. 二叉搜索树不允许存在重复节点，否则将违反其定义。

特点：
1. 二叉搜索树的中序遍历序列是升序的。
2. 将有序列表中的元素插入到二叉搜索树中，每次插入取中间（较小额那一个）的元素，将得到一颗完全二叉树。（待实践）


## AVL 树
1. 在需要**高频查找、低频增删**操作的场景中，AVL 树能始终保持高效的数据操作性能，具有很好的应用价值
2. AVL 树既是二叉搜索树也是平衡二叉树，同时满足这两类二叉树的所有性质，因此也被称为「平衡二叉搜索
树 balanced binary search tree」。
3. AVL 树的特点在于“旋转”操作，它能够在不影响二叉树的中序遍历序列的前提下，使失衡节点重新恢复平
衡。换句话说，旋转操作既能保持“二叉搜索树”的性质，也能使树重新变为“平衡二叉树”。
我们将平衡因子绝对值 > 1 的节点称为“失衡节点”。根据节点失衡情况的不同，旋转操作分为四种：右旋、
左旋、先右旋后左旋、先左旋后右旋。

插入节点   
AVL 树的节点插入操作与二叉搜索树在主体上类似。唯一的区别在于，在 AVL 树中插入节点后，从该节点到
根节点的路径上可能会出现一系列失衡节点。因此，我们需要从这个节点开始，**自底向上执行旋转**操作，使
所有失衡节点恢复平衡。

实现注意点:
1. 需要从底至顶进行平衡，先保证子树的平衡
