# bash
[阮一峰：BASH教程](https://wangdoc.com/bash/arithmetic#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97)

## 命令的组合符
命令的组合符 `&&` 和 `||`
`&&`: 左边的命令执行成功，则继续执行右边的命令
`||`: 若左边的命令执行失败，则执行右边的命令

## 模式拓展
- 波浪线扩展
- ? 字符扩展
- * 字符扩展
- 方括号扩展
- 大括号扩展
- 变量扩展
- 子命令扩展
- 算术扩展
  
`~` 字符代表用户主目录
`?` 字符代表文件路径里面的任意单个字符，不包括空字符
`*` 字符代表文件路径里面的任意数量的任意字符，包括零个字符

## 环境变量
环境变量是 Bash 环境自带的变量，进入 Shell 时已经定义好了，可以直接使用。它们通常是系统定义好的，也可以由用户从父 Shell 传入子 Shell
$PWD
$PATH
$HOME

$HISTFILE 
退出当前 Shell 的时候，Bash 会将用户在当前 Shell 的操作历史写入~/.bash_history文件，该文件默认储存500个操作。
环境变量HISTFILE总是指向这个文件

## 自定义变量,变量的默认值，变量的类型（declare/let）
自定义变量是用户在当前 Shell 里面自己定义的变量，仅在当前 Shell 可用。一旦退出当前 Shell，该变量就不存在了。

```shell
# 输入变量值
echo $HOME;
echo ${HOME};

# 输出另一个命令的结果
echo $(date);
echo `date`; # 旧版
```

## 特殊变量
`$?`为上一个命令的退出码，用来判断上一个命令是否执行成功。返回值是0，表示上一个命令执行成功；如果不是零，表示上一个命令执行失败。
`$0`为当前 Shell 的名称（在命令行直接执行时）或者脚本名（在脚本中执行时）。
`$#`表示脚本的参数数量
`$@`表示脚本的参数值

## 路径匹配
所有文件名扩展只匹配单层路径，不能跨目录匹配，即无法匹配子目录里面的文件。
或者说，?或*这样的通配符，不能匹配路径分隔符（/）。
```shell
# 匹配子目录里面的文件，可以写成下面这样
ls */*.txt
```

## 量词语法
- ?(pattern-list)：模式匹配零次或一次。
- *(pattern-list)：模式匹配零次或多次。
- +(pattern-list)：模式匹配一次或多次。
- @(pattern-list)：只匹配一次模式。
- !(pattern-list)：匹配给定模式以外的任何内容。

## 引号和转义
使用 `\` 符号转译特殊字符

单引号：用于保留字符的字面含义，各种特殊字符在单引号里面，都会变为普通字符，比如星号（*）、美元符号（$）、反斜杠（\）等。

双引号：
1. 美元符号（$）、反引号（`）和反斜杠（\），这三个字符在双引号之中，依然有特殊含义，会被 Bash 自动扩展。
2. 双引号里面不会进行文件名扩展
3. 双引号还有一个作用，就是保存原始命令的输出格式

## Bash 的算术运算
如果逻辑表达式为真，返回1，否则返回0。